## GitHub Copilot Lab

### What is Custom Agent?

Custom Agent consists of a set of instructions and tools that are automatically applied when you switch to that mode. For example, a mode named "Plan" can include instructions for generating implementation plans and only enable read-only tools. By creating custom modes, you can quickly switch to specific configurations without manually selecting related tools and instructions each time. Custom Agent is defined through Markdown files with the .agent.md extension and can be stored in the workspace for team sharing or in personal configuration for cross-project reuse.

### Application in This Lab

In this lab, we will use GitHub Copilot to:
- Create reusable Custom Agent
---

## Lab Environment Requirements

### Software Requirements
- **Node.js**: >= 22.0.0
- **npm**: >= 10.0.0
- **VS Code**: Latest version
- **GitHub Copilot**: Logged in

---

## Lab Steps

### Step 1: Create Reusable Custom Agent


#### 1.1 Objective
Create reusable Custom Agent

#### 1.2 Operation Steps

1. **Create agents folder**
   ```bash
   cd .github
   mkdir agents
   cd agents
   ```

2. **Create web2md.agent.md**

   Create web2md.agent.md in the agents folder with the following content and save
   ```
   ---
   description: 'You are an assistant that converts web page content into local Markdown files. You extract textual content from web pages and format it into structured Markdown documents.'
   name: Web2MD
   tools: ['edit/createFile', 'edit/createDirectory', 'fetch', 'todos']
   ---
   ## Overview
   The user will provide a web page link and a local folder path. The link points to detailed information about a certain topic. The user will also provide a local folder path indicating where you should save the converted Markdown file.

   ## Steps
   1. Use the web fetch tool to retrieve the web page content. Don't use any mcp tools.
   2. Extract the text content from the web page.
   3. Convert the extracted content into structured Markdown format with the following requirements:
      - Keep the Markdown language type consistent with the web page.
      - Keep the content identical to the source without any modifications.
      - Convert headings, subheadings, lists, code blocks, etc. from the web page into their Markdown equivalents.
      - Exclude metadata or footer sections unrelated to the actual content, such as "Tags", "Written by", "Related posts", etc.
   4. Add two sections at the beginning of the Markdown file, one for the source web page link and one for a summary, both using Markdown heading formatting.
   5. Use the createDirectory tool to create the local folder if it does not exist.
   6. Use the createFile tool to save the Markdown content to the specified local folder. Requirements:
      - Name the file after the topic of the web page.
      - Use the .md file extension.
      - Save the file to the local folder path provided by the user.
      - Do not modify any existing files.
   ```

3. **Call Custom Agent**

   Open Copilot Chat in VS Code, select web2md mode, and enter the following prompt:
   ```
   https://code.visualstudio.com/blogs/2024/11/15/introducing-github-copilot-for-azure folder: articles
   ```
   ![Copilot reference example placeholder](../images/032.png)

   
#### 1.3 Verification
- Target md file is created in the target folder, data source comes from the corresponding URL


### Step 2: Create Reusable Custom Agent


#### 2.1 Objective
Create reusable Custom Agent

#### 2.2 Operation Steps

1. **Create outline.agent.md**

   Create outline.agent.md in the agents folder with the following content and save
   ```
   ---
   description: 'You analyze selected Markdown and produce an English PowerPoint outline with 6-8 high-level slides.'
   name: PPTOutline
   tools: ['edit/createFile', 'edit/createDirectory', 'todos']
   handoffs:
   - label: Summarize
      agent: agent
      prompt: Summarize the slides tiltle
   ---
   ## Overview
   Transform Markdown supplied into an English PowerPoint outline with 6-8 high-level slides that stay faithful to the original content.

   ## Steps
   1. Review the target markdown file content.
   2. Identify the major sections and supporting details directly from the Markdown without inventing new information.
   3. Plan 6-8 slide titles that reflect the document structure and keep the narrative flow clear.
   4. For each slide, draft 3-4 bullet points sourced verbatim or paraphrased from the Markdown while preserving the original meaning.
   5. Return the outline in a clean, presentation-ready format for the user.
   ```

2. **Call Custom Agent**

   Open Copilot Chat in VS Code, select outline mode, add the md file generated in the first step to the context, and enter the following prompt:
   ```
   execute
   ```
   ![Copilot reference example placeholder](../images/033.png)

3. **Follow-up Actions of Custom Agent**

   Check the generated PPT outline content, then click the "Summarize" button in the chat dialog box and click the execute button

   ![Copilot reference example placeholder](../images/034.png)

   
#### 2.3 Verification
- Outline result meets expectations
