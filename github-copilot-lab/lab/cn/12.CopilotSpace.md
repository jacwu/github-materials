## GitHub Copilot Lab

### 什么是 Copilot Spaces？

Copilot Spaces 可以把与任务相关的代码、文档与指令集中在一个空间里，让 Copilot 直接带着上下文回答问题。

### GitHub Copilot 的优势

GitHub Copilot 通过 Copilot Spaces 提供下列能力）：
- 让 Copilot 读取你附加的仓库文件、方案说明和自定义指令，从而成为任务的“领域专家”。
- 支持在组织内共享 Space，帮助团队复制最佳实践，加速新成员上手。
- 关联仓库后会自动同步最新内容，保证对话中引用的知识始终可用。


### 在本 Lab 中的应用

在本实验中，我们将：
- 创建并使用Copilot Spaces
- 在IDE内访问Copilot Spaces
---

## 实验环境要求

### 软件要求
- **Node.js**: >= 22.0.0
- **npm**: >= 10.0.0
- **VS Code**: 最新版本
- **GitHub Copilot**: 已登陆

---

## Lab 步骤

### 第一步： 创建并使用Copilot Spaces

#### 1.1 目标
创建并使用Copilot Spaces

#### 1.2 操作步骤

1. **打开 Copilot Spaces 页面**  
   在浏览器访问 `https://github.com/copilot/spaces`，在侧边栏选择 `Spaces`，点击右上角的 `Create space`。
   ![Copilot 引用示例占位](../images/121.png)

2. **填写空间信息**  
   在弹出的 `New Space` 对话框中输入空间名称（示例：`testspace`），点击 `Create Space`。注意：Copilot Spaces的owner既可以是个人账号，也可以是一个组织。
   ![Copilot 引用示例占位](../images/122.png)

3. **为 Space 添加仓库文件**  
   进入新建的 Space，点击 `Add sources` → `Add files from repository`。
   ![Copilot 引用示例占位](../images/123.png)

4. **选择目标仓库**  
   在搜索框输入 `jacwu/github-materials`，选择该仓库并继续。
   ![Copilot 引用示例占位](../images/124.png)

5. **勾选需要同步的文件**  
   在文件树中勾选 `github-copilot-features-status` 文件夹下的 `copilot-ide-features.md` 与 `copilot-web-features.md`，点击 `Add` 完成关联。
   ![Copilot 引用示例占位](../images/125.png)

6. **向 Space 中的 Copilot 提问**  
   在 Space 的对话框输入问题 “which ide support agent mode”，确认 Copilot 的回答引用了刚添加的 `copilot-ide-features.md` 内容。
   ![Copilot 引用示例占位](../images/126.png)

   
#### 1.3 验证
- Space 中能看到刚添加的两个文档，状态为最新同步。
- Copilot 回复包含 IDE 列表（VS Code、Visual Studio、JetBrains、Xcode、Eclipse），并标注引用来源为 `copilot-ide-features.md`。


### 第二步：在IDE内访问Copilot Spaces


#### 2.1 目标
在VSCode中通过MCP访问Copilot Spaces

#### 2.2 操作步骤

1. **注册 Copilot Spaces MCP 服务**  
   打开 `mcp.json`文件加入以下配置并保存。启动copilot-spaces MCP 服务。
   ```json
   "copilot-spaces": {
     "type": "http",
     "url": "https://api.githubcopilot.com/mcp/x/copilot_spaces"
   }
   ```
   ![Copilot MCP 配置示例](../images/127.png)

2. **列出可用的 Copilot Spaces**  
   在 VS Code Copilot Chat 中，选中Agent模式，输入 `#list_copilot_spaces`，等待 `copilot-spaces` MCP 服务器返回列表。
   ![列出 Copilot Spaces](../images/128.png)

3. **查询指定 Copilot Space**  
   在 Copilot Chat 中继续输入 `query from copilot spaces: testspace, answer question: is coding agent available in copilotenterprise`，确认 Copilot 返回的答案引用了 `copilot-web-features.md` 的文档内容。
   ![查询 Copilot Space](../images/129.png)

   
#### 2.3 验证
- `#list_copilot_spaces` 命令执行成功并返回可用空间列表。
- 向 Copilot 提问时，回答引用了目标 Space 中的同步文档。


