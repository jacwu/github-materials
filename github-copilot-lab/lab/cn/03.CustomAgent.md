## GitHub Copilot Lab

### 什么是Custom Agent？

Custom Agent 由一组指令与工具构成，当你切换到该模式时便会自动应用。例如，一个名为 “Plan” 的模式可以包含用于生成实施计划的指令，并仅启用只读工具。通过创建自定义模式，你能够快速切换到特定配置，而无需每次手动挑选相关工具与指令。Custom Agent 通过扩展名为 .agent.md 的 Markdown 文件定义，既可以存放在工作区中供团队共享，也可以放在个人配置中，方便跨项目复用。

### 在本 Lab 中的应用

在本实验中，我们将使用 GitHub Copilot 来：
- 创建可复用的Custom Agent
---

## 实验环境要求

### 软件要求
- **Node.js**: >= 22.0.0
- **npm**: >= 10.0.0
- **VS Code**: 最新版本
- **GitHub Copilot**: 已登陆

---

## Lab 步骤

### 第一步：创建可复用的Custom Agent


#### 1.1 目标
创建可复用的Custom Agent

#### 1.2 操作步骤

1. **创建agents文件夹**
   ```bash
   cd .github
   mkdir agents
   cd agents
   ```

2. **创建web2md.agent.md**

   在 agents文件夹内创建web2md.agent.md，内容如下，并保存
   ```
   ---
   description: 'You are an assistant that converts web page content into local Markdown files. You extract textual content from web pages and format it into structured Markdown documents.'
   name: Web2MD
   tools: ['edit/createFile', 'edit/createDirectory', 'fetch', 'todos']
   ---
   ## Overview
   The user will provide a web page link and a local folder path. The link points to detailed information about a certain topic. The user will also provide a local folder path indicating where you should save the converted Markdown file.

   ## Steps
   1. Use the web fetch tool to retrieve the web page content. Don't use any mcp tools.
   2. Extract the text content from the web page.
   3. Convert the extracted content into structured Markdown format with the following requirements:
      - Keep the Markdown language type consistent with the web page.
      - Keep the content identical to the source without any modifications.
      - Convert headings, subheadings, lists, code blocks, etc. from the web page into their Markdown equivalents.
      - Exclude metadata or footer sections unrelated to the actual content, such as "Tags", "Written by", "Related posts", etc.
   4. Add two sections at the beginning of the Markdown file, one for the source web page link and one for a summary, both using Markdown heading formatting.
   5. Use the createDirectory tool to create the local folder if it does not exist.
   6. Use the createFile tool to save the Markdown content to the specified local folder. Requirements:
      - Name the file after the topic of the web page.
      - Use the .md file extension.
      - Save the file to the local folder path provided by the user.
      - Do not modify any existing files.
   ```

3. **调用Custom Agent**

   在 VS Code 中打开 Copilot Chat，选择web2md模式，输入以下提示词：
   ```
   https://code.visualstudio.com/blogs/2024/11/15/introducing-github-copilot-for-azure folder: articles
   ```
   ![Copilot 引用示例占位](../images/032.png)

   
#### 1.3 验证
- 目标md文件被创建到目标文件夹，数据源来自于对应网址


### 第二步：创建可复用的Custom Agent


#### 2.1 目标
创建可复用的Custom Agent

#### 2.2 操作步骤

1. **创建outline.agent.md**

   在 agents文件夹内创建outline.agent.md，内容如下，并保存
   ```
   ---
   description: 'You analyze selected Markdown and produce an English PowerPoint outline with 6-8 high-level slides.'
   name: PPTOutline
   tools: ['edit/createFile', 'edit/createDirectory', 'todos']
   handoffs:
   - label: Summarize
      agent: agent
      prompt: Summarize the slides tiltle
   ---
   ## Overview
   Transform Markdown supplied into an English PowerPoint outline with 6-8 high-level slides that stay faithful to the original content.

   ## Steps
   1. Review the target markdown file content.
   2. Identify the major sections and supporting details directly from the Markdown without inventing new information.
   3. Plan 6-8 slide titles that reflect the document structure and keep the narrative flow clear.
   4. For each slide, draft 3-4 bullet points sourced verbatim or paraphrased from the Markdown while preserving the original meaning.
   5. Return the outline in a clean, presentation-ready format for the user.
   ```

2. **调用Custom Agent**

   在 VS Code 中打开 Copilot Chat，选择outline模式，将第一步生成的md文件加入上下文，输入以下提示词：
   ```
   execute
   ```
   ![Copilot 引用示例占位](../images/033.png)

3. **调用Custom Agent的后续操作**

   检查生成的PPT大纲内容，然后点击聊天对话框中的“Summarize”按钮，并点击执行按钮

   ![Copilot 引用示例占位](../images/034.png)

   
#### 2.3 验证
- outline结果符合预期


